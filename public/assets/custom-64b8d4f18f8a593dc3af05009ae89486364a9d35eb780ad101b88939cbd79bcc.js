$(document).ready(function(){function e(){$("#js-error-block ul").html(""),$(".form-control").attr("style","1px solid #ccc;")}$("form").on("keypress",function(e){if(13==e.keyCode)return!1}),$(".datepicker").datepicker({dateFormat:"dd-mm-yy",minDate:0}),$(".summernote").summernote({height:100,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough"]],["para",["ul","ol"]],["insert",["link"]]]}),$('[data-toggle="tooltip"]').tooltip(),$.fn.serializeObject=function(){var e={};return $("form input, form select, form textarea").each(function(){e[this.name]=$(this).val()}),e},String.prototype.titleize=function(){return this.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},$("form#ajax_signin").bind("ajax:success",function(e,o){o.success?window.location.reload():$("#js-error-block-login").show()}),$("#user_password, #user_email").focus(function(){1==$("#js-error-block-login").is(":visible")&&$("#js-error-block-login").fadeOut("slow")}),$("form#ajax_signup").submit(function(o){e(),o.preventDefault();var r=$(this).serializeObject();$.ajax({type:"POST",url:$(this).attr("action"),data:r,success:function(){location.href="/"},error:function(e){var o=jQuery.parseJSON(e.responseText).errors;for(messages in o){error_messages=messages.titleize()+" "+o[messages];var r="form#ajax_signup #user_"+messages;error_messages;$("#js-error-block-signup ul").append("<li>"+error_messages+"</li>"),$(r).css("border","1px solid #D9534F")}$("#js-error-block-signup").show()},dataType:"json"})}),$("#signup-login-form__btn").click(function(){$("#loginModal").modal("hide"),$("#signupModal").modal("show")}),$("#login-signup-form__btn").click(function(){$("#signupModal").modal("hide"),$("#loginModal").modal("show")})});